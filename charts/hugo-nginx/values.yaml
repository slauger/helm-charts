# Default values for hugo-nginx
# This chart deploys a Hugo static site served by nginx

# Image configuration
# Can be either a string (e.g., "myapp:latest" or "myapp:v1.0.0@sha256:...")
# or an object with repository, tag, and pullPolicy fields
image: "myapp:latest"

# Image pull policy (only used when image is a string)
imagePullPolicy: IfNotPresent

# Image pull secrets
imagePullSecrets: []
# - name: registry-credentials

# Override chart name
nameOverride: ""
fullnameOverride: ""

# Number of replicas
replicaCount: 2

# Service account
serviceAccount:
  # Specifies whether a service account should be created
  create: true
  # Annotations to add to the service account
  annotations: {}
  # The name of the service account to use
  name: ""

# Pod annotations
podAnnotations: {}

# Pod security context
podSecurityContext:
  runAsNonRoot: true
  runAsUser: 101  # nginx user
  fsGroup: 101

# Container security context
securityContext:
  allowPrivilegeEscalation: false
  capabilities:
    drop:
      - ALL
  readOnlyRootFilesystem: false
  runAsNonRoot: true
  runAsUser: 101

# Service configuration
service:
  # Service type (ClusterIP, NodePort, LoadBalancer)
  type: ClusterIP
  # Service port
  port: 80
  # Target container port
  targetPort: 80
  # Service annotations
  annotations: {}

# Ingress configuration
ingress:
  # Enable ingress
  enabled: true
  # Ingress class name
  className: "traefik"
  # Ingress annotations
  annotations: {}
    # cert-manager.io/cluster-issuer: "letsencrypt-prod"
    # traefik.ingress.kubernetes.io/router.middlewares: default-redirect-https@kubernetescrd
  # Ingress hosts
  hosts:
    - host: example.com
      paths:
        - path: /
          pathType: Prefix
  # TLS configuration
  tls: []
  # Example TLS configuration:
  # tls:
  #   - secretName: example-tls
  #     hosts:
  #       - example.com

# Resource limits and requests
resources:
  limits:
    cpu: 200m
    memory: 128Mi
  requests:
    cpu: 50m
    memory: 64Mi

# Liveness probe
livenessProbe:
  httpGet:
    path: /health
    port: http
  initialDelaySeconds: 10
  periodSeconds: 30
  timeoutSeconds: 5
  successThreshold: 1
  failureThreshold: 3

# Readiness probe
readinessProbe:
  httpGet:
    path: /health
    port: http
  initialDelaySeconds: 5
  periodSeconds: 10
  timeoutSeconds: 3
  successThreshold: 1
  failureThreshold: 3

# Horizontal Pod Autoscaler
autoscaling:
  enabled: false
  minReplicas: 2
  maxReplicas: 5
  targetCPUUtilizationPercentage: 80
  # targetMemoryUtilizationPercentage: 80

# Pod Disruption Budget
podDisruptionBudget:
  enabled: false
  minAvailable: 1
  # maxUnavailable: 1

# Node selector
nodeSelector: {}

# Tolerations
tolerations: []

# Affinity rules
affinity: {}
